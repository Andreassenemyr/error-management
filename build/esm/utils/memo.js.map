{"version":3,"file":"memo.js","sources":["../../../src/utils/memo.ts"],"sourcesContent":["export function memoBuilder(): MemoFunc {\r\n    const hasWeakSet = typeof WeakSet === 'function';\r\n    const inner: any = hasWeakSet ? new WeakSet() : [];\r\n    function memoize(obj: any): boolean {\r\n      if (hasWeakSet) {\r\n        if (inner.has(obj)) {\r\n          return true;\r\n        }\r\n        inner.add(obj);\r\n        return false;\r\n      }\r\n      // eslint-disable-next-line @typescript-eslint/prefer-for-of\r\n      for (let i = 0; i < inner.length; i++) {\r\n        const value = inner[i];\r\n        if (value === obj) {\r\n          return true;\r\n        }\r\n      }\r\n      inner.push(obj);\r\n      return false;\r\n    }\r\n  \r\n    function unmemoize(obj: any): void {\r\n      if (hasWeakSet) {\r\n        inner.delete(obj);\r\n      } else {\r\n        for (let i = 0; i < inner.length; i++) {\r\n          if (inner[i] === obj) {\r\n            inner.splice(i, 1);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return [memoize, unmemoize];\r\n}\r\n\r\nexport type MemoFunc = [\r\n    // memoize\r\n    (obj: any) => boolean,\r\n    // unmemoize\r\n    (obj: any) => void,\r\n];"],"names":[],"mappings":"AAAO,SAAS,WAAW,GAAa;AACxC,IAAI,MAAM,UAAW,GAAE,OAAO,OAAA,KAAY,UAAU,CAAA;AACpD,IAAI,MAAM,KAAK,GAAQ,UAAW,GAAE,IAAI,OAAO,EAAC,GAAI,EAAE,CAAA;AACtD,IAAI,SAAS,OAAO,CAAC,GAAG,EAAgB;AACxC,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAC5B,UAAU,OAAO,IAAI,CAAA;AACrB,SAAQ;AACR,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;AACtB,QAAQ,OAAO,KAAK,CAAA;AACpB,OAAM;AACN;AACA,MAAM,KAAK,IAAI,CAAA,GAAI,CAAC,EAAE,CAAE,GAAE,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7C,QAAQ,MAAM,KAAM,GAAE,KAAK,CAAC,CAAC,CAAC,CAAA;AAC9B,QAAQ,IAAI,KAAM,KAAI,GAAG,EAAE;AAC3B,UAAU,OAAO,IAAI,CAAA;AACrB,SAAQ;AACR,OAAM;AACN,MAAM,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AACrB,MAAM,OAAO,KAAK,CAAA;AAClB,KAAI;;AAEJ,IAAI,SAAS,SAAS,CAAC,GAAG,EAAa;AACvC,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AACzB,aAAa;AACb,QAAQ,KAAK,IAAI,CAAA,GAAI,CAAC,EAAE,CAAE,GAAE,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,UAAU,IAAI,KAAK,CAAC,CAAC,CAAE,KAAI,GAAG,EAAE;AAChC,YAAY,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AAC9B,YAAY,MAAK;AACjB,WAAU;AACV,SAAQ;AACR,OAAM;AACN,KAAI;AACJ,IAAI,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,CAAA;AAC/B;;;;"}