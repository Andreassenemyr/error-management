{"version":3,"file":"memo.js","sources":["../../../src/utils/memo.ts"],"sourcesContent":["export function memoBuilder(): MemoFunc {\n    const hasWeakSet = typeof WeakSet === 'function';\n    const inner: any = hasWeakSet ? new WeakSet() : [];\n    function memoize(obj: any): boolean {\n      if (hasWeakSet) {\n        if (inner.has(obj)) {\n          return true;\n        }\n        inner.add(obj);\n        return false;\n      }\n      // eslint-disable-next-line @typescript-eslint/prefer-for-of\n      for (let i = 0; i < inner.length; i++) {\n        const value = inner[i];\n        if (value === obj) {\n          return true;\n        }\n      }\n      inner.push(obj);\n      return false;\n    }\n  \n    function unmemoize(obj: any): void {\n      if (hasWeakSet) {\n        inner.delete(obj);\n      } else {\n        for (let i = 0; i < inner.length; i++) {\n          if (inner[i] === obj) {\n            inner.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n    return [memoize, unmemoize];\n}\n\nexport type MemoFunc = [\n    // memoize\n    (obj: any) => boolean,\n    // unmemoize\n    (obj: any) => void,\n];"],"names":[],"mappings":"AAAO,SAAS,WAAW,GAAa;AACxC,IAAI,MAAM,UAAW,GAAE,OAAO,OAAA,KAAY,UAAU,CAAA;AACpD,IAAI,MAAM,KAAK,GAAQ,UAAW,GAAE,IAAI,OAAO,EAAC,GAAI,EAAE,CAAA;AACtD,IAAI,SAAS,OAAO,CAAC,GAAG,EAAgB;AACxC,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAC5B,UAAU,OAAO,IAAI,CAAA;AACrB,SAAQ;AACR,QAAQ,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;AACtB,QAAQ,OAAO,KAAK,CAAA;AACpB,OAAM;AACN;AACA,MAAM,KAAK,IAAI,CAAA,GAAI,CAAC,EAAE,CAAE,GAAE,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7C,QAAQ,MAAM,KAAM,GAAE,KAAK,CAAC,CAAC,CAAC,CAAA;AAC9B,QAAQ,IAAI,KAAM,KAAI,GAAG,EAAE;AAC3B,UAAU,OAAO,IAAI,CAAA;AACrB,SAAQ;AACR,OAAM;AACN,MAAM,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AACrB,MAAM,OAAO,KAAK,CAAA;AAClB,KAAI;;AAEJ,IAAI,SAAS,SAAS,CAAC,GAAG,EAAa;AACvC,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;AACzB,aAAa;AACb,QAAQ,KAAK,IAAI,CAAA,GAAI,CAAC,EAAE,CAAE,GAAE,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,UAAU,IAAI,KAAK,CAAC,CAAC,CAAE,KAAI,GAAG,EAAE;AAChC,YAAY,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AAC9B,YAAY,MAAK;AACjB,WAAU;AACV,SAAQ;AACR,OAAM;AACN,KAAI;AACJ,IAAI,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,CAAA;AAC/B;;;;"}