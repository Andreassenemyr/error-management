{"version":3,"file":"path.js","sources":["../../../src/utils/path.ts"],"sourcesContent":["const splitPathRe = /^(\\S+:\\\\|\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^/\\\\]+?|)(\\.[^./\\\\]*|))(?:[/\\\\]*)$/;\r\n/** JSDoc */\r\nfunction splitPath(filename: string): string[] {\r\n    // Truncate files names greater than 1024 characters to avoid regex dos\r\n    const truncated = filename.length > 1024 ? `<truncated>${filename.slice(-1024)}` : filename;\r\n    const parts = splitPathRe.exec(truncated);\r\n    return parts ? parts.slice(1) : [];\r\n}\r\n\r\nexport function dirname(path: string): string {\r\n    const result = splitPath(path);\r\n    const root = result[0];\r\n    let dir = result[1];\r\n  \r\n    if (!root && !dir) {\r\n      // No dirname whatsoever\r\n      return '.';\r\n    }\r\n  \r\n    if (dir) {\r\n      // It has a dirname, strip trailing slash\r\n      dir = dir.slice(0, dir.length - 1);\r\n    }\r\n  \r\n    return root + dir;\r\n}\r\n\r\n  "],"names":[],"mappings":"AAAA,MAAM,WAAA,GAAc,wEAAwE,CAAA;AAC5F;AACA,SAAS,SAAS,CAAC,QAAQ,EAAoB;AAC/C;AACA,IAAI,MAAM,YAAY,QAAQ,CAAC,MAAO,GAAE,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAA,GAAA,QAAA,CAAA;AACA,IAAA,MAAA,KAAA,GAAA,WAAA,CAAA,IAAA,CAAA,SAAA,CAAA,CAAA;AACA,IAAA,OAAA,KAAA,GAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA,GAAA,EAAA,CAAA;AACA,CAAA;;AAEA,SAAA,OAAA,CAAA,IAAA,EAAA;AACA,IAAA,MAAA,MAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;AACA,IAAA,MAAA,IAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AACA,IAAA,IAAA,GAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA;;AAEA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,GAAA,EAAA;AACA;AACA,MAAA,OAAA,GAAA,CAAA;AACA,KAAA;;AAEA,IAAA,IAAA,GAAA,EAAA;AACA;AACA,MAAA,GAAA,GAAA,GAAA,CAAA,KAAA,CAAA,CAAA,EAAA,GAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA;AACA,KAAA;;AAEA,IAAA,OAAA,IAAA,GAAA,GAAA,CAAA;AACA;;;;"}