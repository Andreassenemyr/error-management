{"version":3,"file":"carrier.js","sources":["../../src/carrier.ts"],"sourcesContent":["import { AsyncContextStrategy } from \"./async-context\";\nimport { GLOBAL_OBJ } from \"./worldwide\";\n\nexport interface Carrier {\n    __RIBBAN__?: RibbanCarrier;\n}\n\ninterface RibbanCarrier {\n    acs?: AsyncContextStrategy;\n}\n  \n\nexport interface Carrier {\n    __RIBBAN__?: RibbanCarrier;\n}\n  \ninterface RibbanCarrier {\n    acs?: AsyncContextStrategy;\n    /**\n     * Extra Hub properties injected by various SDKs\n     */\n    extensions?: {\n      /** Extension methods for the hub, which are bound to the current Hub instance */\n      // eslint-disable-next-line @typescript-eslint/ban-types\n      [key: string]: Function;\n    };\n}\n\nexport function getMainCarrier(): Carrier {\n    // This ensures a Ribban carrier exists\n    getRibbanCarrier(GLOBAL_OBJ);\n    return GLOBAL_OBJ;\n}\n  \nexport function getRibbanCarrier(carrier: Carrier): RibbanCarrier {\n    if (!carrier.__RIBBAN__) {\n        carrier.__RIBBAN__ = {\n            extensions: {},\n        };\n    }\n    return carrier.__RIBBAN__;\n}"],"names":["GLOBAL_OBJ"],"mappings":";;;;AA4BO,SAAS,cAAc,GAAY;AAC1C;AACA,IAAI,gBAAgB,CAACA,oBAAU,CAAC,CAAA;AAChC,IAAI,OAAOA,oBAAU,CAAA;AACrB,CAAA;;AAEO,SAAS,gBAAgB,CAAC,OAAO,EAA0B;AAClE,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;AAC7B,QAAQ,OAAO,CAAC,UAAA,GAAa;AAC7B,YAAY,UAAU,EAAE,EAAE;AAC1B,SAAS,CAAA;AACT,KAAI;AACJ,IAAI,OAAO,OAAO,CAAC,UAAU,CAAA;AAC7B;;;;;"}