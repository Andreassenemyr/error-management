{"version":3,"file":"carrier.js","sources":["../../src/carrier.ts"],"sourcesContent":["import { AsyncContextStrategy } from \"./async-context\";\r\nimport { GLOBAL_OBJ } from \"./worldwide\";\r\n\r\nexport interface Carrier {\r\n    __RIBBAN__?: RibbanCarrier;\r\n}\r\n\r\ninterface RibbanCarrier {\r\n    acs?: AsyncContextStrategy;\r\n}\r\n  \r\n\r\nexport interface Carrier {\r\n    __RIBBAN__?: RibbanCarrier;\r\n}\r\n  \r\ninterface RibbanCarrier {\r\n    acs?: AsyncContextStrategy;\r\n    /**\r\n     * Extra Hub properties injected by various SDKs\r\n     */\r\n    extensions?: {\r\n      /** Extension methods for the hub, which are bound to the current Hub instance */\r\n      // eslint-disable-next-line @typescript-eslint/ban-types\r\n      [key: string]: Function;\r\n    };\r\n}\r\n\r\nexport function getMainCarrier(): Carrier {\r\n    // This ensures a Ribban carrier exists\r\n    getRibbanCarrier(GLOBAL_OBJ);\r\n    return GLOBAL_OBJ;\r\n}\r\n  \r\nexport function getRibbanCarrier(carrier: Carrier): RibbanCarrier {\r\n    if (!carrier.__RIBBAN__) {\r\n        carrier.__RIBBAN__ = {\r\n            extensions: {},\r\n        };\r\n    }\r\n    return carrier.__RIBBAN__;\r\n}"],"names":["GLOBAL_OBJ"],"mappings":";;;;AA4BO,SAAS,cAAc,GAAY;AAC1C;AACA,IAAI,gBAAgB,CAACA,oBAAU,CAAC,CAAA;AAChC,IAAI,OAAOA,oBAAU,CAAA;AACrB,CAAA;;AAEO,SAAS,gBAAgB,CAAC,OAAO,EAA0B;AAClE,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;AAC7B,QAAQ,OAAO,CAAC,UAAA,GAAa;AAC7B,YAAY,UAAU,EAAE,EAAE;AAC1B,SAAS,CAAA;AACT,KAAI;AACJ,IAAI,OAAO,OAAO,CAAC,UAAU,CAAA;AAC7B;;;;;"}